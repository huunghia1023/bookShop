@model ProductDetailViewModel
@using System.Security.Claims;
@inject IConfiguration _config;
@{
    ViewData["Title"] = "Detail";
    var culture = CultureInfo.CurrentCulture.Name;
}


<div class="card">
    <div class="container-fluid">
        <div class="wrapper row">
            <div class="preview col-md-6">
                <div id="carouselProductControls" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        @{

                            @for (var i = 0; i < @Model.images.Count; i++)
                            {
                                if (@Model.images[i].IsDefault)
                                {
                                    <div class="carousel-item active">
                                        <img class="d-block w-100" src="@_config["BaseAddress"]/user-content/@Model.images[i].ImagePath" alt="First slide">
                                    </div>
                                }
                                else
                                {
                                    <div class="carousel-item">
                                        <img class="d-block w-100" src="@_config["BaseAddress"]/user-content/@Model.images[i].ImagePath" alt="Next slide">
                                    </div>
                                }
                            }
                        }


                    </div>
                    <a class="carousel-control-prev" href="#carouselProductControls" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselProductControls" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>

            </div>
            <div class="details col-md-6">
                <h3 class="product-title">@Model.product.Name</h3>
                <div class="rating">
                    <div class="stars">
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star"></span>
                        <span class="fa fa-star"></span>
                    </div>
                    <span class="review-no">41 reviews</span>
                </div>
                <p class="product-description">@Html.Raw(@Model.product.Description)</p>
                <h6 class="price" style="margin-top: 20px;">Current price: <span>$@Model.product.Price</span></h6>
                <p class="vote"><strong>91%</strong> of buyers enjoyed this product! <strong>(87 votes)</strong></p>
                <h6 class="sizes">
                    Quantity:
                    <input type="hidden" id="hiddenCulture" value="@culture"/>
                    <input type="number" id="quantity" min="1" />
                </h6>

                <div class="action">
                    <button class="btn btn-add-cart" data-id="@Model.product.Id">Add to cart</button>
                    <button class="like btn btn-default" type="button"><span class="fa fa-heart"></span></button>
                </div>
            </div>
        </div>
    </div>
</div>
@await Component.InvokeAsync("Rating", @Model.product.Id)



